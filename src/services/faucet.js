const _0x4cd458 = _0x5848; (function (_0x2aadfc, _0x22f2bb) { const _0x5f3803 = _0x5848, _0x36d54d = _0x2aadfc(); while (!![]) { try { const _0x5e1d64 = -parseInt(_0x5f3803(0x1db)) / 0x1 + parseInt(_0x5f3803(0x1ce)) / 0x2 + -parseInt(_0x5f3803(0x1ea)) / 0x3 + parseInt(_0x5f3803(0x1a7)) / 0x4 * (-parseInt(_0x5f3803(0x1bb)) / 0x5) + parseInt(_0x5f3803(0x1fe)) / 0x6 + -parseInt(_0x5f3803(0x1bf)) / 0x7 * (-parseInt(_0x5f3803(0x1a1)) / 0x8) + parseInt(_0x5f3803(0x1ef)) / 0x9; if (_0x5e1d64 === _0x22f2bb) break; else _0x36d54d['push'](_0x36d54d['shift']()); } catch (_0x344a79) { _0x36d54d['push'](_0x36d54d['shift']()); } } }(_0x590c, 0xcd2d8)); import { gotScraping } from 'got-scraping'; function _0x5848(_0x305298, _0x8ae53b) { _0x305298 = _0x305298 - 0x19e; const _0x590c08 = _0x590c(); let _0x5848d9 = _0x590c08[_0x305298]; return _0x5848d9; } import { formatAddress, sleep, getAccount, saveAccount, isRetryableError } from '../utils/helper.js'; const FAUCET_URL = 'https://faucet.polarise.org', FAUCET_API_URL = _0x4cd458(0x1c8), SCTG_API_URL = _0x4cd458(0x1af), RECAPTCHA_SITEKEY = _0x4cd458(0x1e0); function isValidSolverKey(_0x500100) { const _0x56fad8 = _0x4cd458; if (!_0x500100) return ![]; const _0x340ae0 = [_0x56fad8(0x1e5), _0x56fad8(0x1a5), '']; return !_0x340ae0['includes'](_0x500100['toLowerCase']()[_0x56fad8(0x1a9)]()); } function getSolverConfig() { const _0x22d6cb = _0x4cd458, _0xf83251 = process[_0x22d6cb(0x1ae)][_0x22d6cb(0x1bc)], _0x1bad89 = process[_0x22d6cb(0x1ae)][_0x22d6cb(0x1bd)] || _0x22d6cb(0x1df); return { 'apiKey': _0xf83251, 'solverUrl': _0x1bad89, 'useSCTG': isValidSolverKey(_0xf83251) }; } export async function checkSolverServerConnection(_0x32e044 = _0x4cd458(0x1df)) { const _0x5b8805 = _0x4cd458; try { const _0x3d5d74 = await gotScraping[_0x5b8805(0x206)](_0x32e044 + _0x5b8805(0x19e), { 'timeout': { 'request': 0x1388 }, 'retry': { 'limit': 0x0 } }); return _0x3d5d74[_0x5b8805(0x1ab)] === 0xc8; } catch { return ![]; } } async function solveRecaptchaSCTG(_0x15511d, _0x21f93a, _0x1df40d, _0x40c4a6, _0x21b1f6) { const _0x39c304 = _0x4cd458, _0x3be735 = { 'timeout': { 'request': 0x7530 }, 'responseType': _0x39c304(0x1f4) }; _0x40c4a6 && (_0x3be735[_0x39c304(0x1aa)] = _0x40c4a6, _0x21b1f6[_0x39c304(0x1e6)](_0x39c304(0x1cf) + _0x40c4a6)); const _0x1d23d2 = new URLSearchParams({ 'key': _0x1df40d, 'method': _0x39c304(0x1da), 'pageurl': _0x15511d, 'sitekey': _0x21f93a, 'json': '1' }); _0x21b1f6[_0x39c304(0x1e6)](_0x39c304(0x1d9)); const _0x2591eb = await gotScraping['get'](SCTG_API_URL + _0x39c304(0x1cd) + _0x1d23d2['toString'](), _0x3be735), _0x5a90c5 = _0x2591eb[_0x39c304(0x1de)]; _0x21b1f6[_0x39c304(0x1e6)]('SCTG\x20submit\x20response:', _0x5a90c5); if (_0x5a90c5[_0x39c304(0x1d1)] !== 0x1) { const _0x27937b = _0x5a90c5['request'] || _0x5a90c5[_0x39c304(0x1b2)] || _0x39c304(0x1ed); if (typeof _0x27937b === _0x39c304(0x1a8) && _0x27937b[_0x39c304(0x1fa)](_0x39c304(0x1c2))) throw new Error(_0x39c304(0x1f0)); throw new Error(_0x39c304(0x202) + _0x27937b); } const _0x4dd764 = _0x5a90c5[_0x39c304(0x201)], _0x146abd = 0x12c, _0x376f2d = 0xa, _0x48c6aa = Date[_0x39c304(0x1f9)](); while ((Date[_0x39c304(0x1f9)]() - _0x48c6aa) / 0x3e8 < _0x146abd) { await sleep(_0x376f2d * 0x3e8); const _0x182670 = new URLSearchParams({ 'key': _0x1df40d, 'id': _0x4dd764, 'action': 'get', 'json': '1' }), _0x4ae944 = { 'timeout': { 'request': 0x7530 }, 'responseType': _0x39c304(0x1f4) }; _0x40c4a6 && (_0x4ae944['proxyUrl'] = _0x40c4a6); const _0x4e7afc = await gotScraping['get'](SCTG_API_URL + _0x39c304(0x1be) + _0x182670['toString'](), _0x4ae944), _0x1ed45a = _0x4e7afc[_0x39c304(0x1de)], _0x4a9a4b = ((Date[_0x39c304(0x1f9)]() - _0x48c6aa) / 0x3e8)[_0x39c304(0x1b5)](0x1); if (_0x1ed45a[_0x39c304(0x1d1)] === 0x1 && _0x1ed45a[_0x39c304(0x201)] && !_0x1ed45a[_0x39c304(0x201)][_0x39c304(0x1fa)](_0x39c304(0x1b3)) && !_0x1ed45a[_0x39c304(0x201)][_0x39c304(0x1fa)]('PROCESSING')) return _0x21b1f6[_0x39c304(0x1c9)](_0x39c304(0x1a3) + _0x4a9a4b + 's'), _0x1ed45a[_0x39c304(0x201)]; _0x21b1f6[_0x39c304(0x1e6)]('[' + _0x4a9a4b + _0x39c304(0x20c) + (_0x1ed45a['request'] || _0x39c304(0x1fc))); } throw new Error('SCTG\x20timeout:\x20captcha\x20not\x20solved\x20within\x205\x20minutes'); } async function solveRecaptchaLocal(_0x42e75a, _0x3567eb, _0x327c1b, _0x48f11c, _0x2474c8) { const _0x2304f1 = _0x4cd458, _0x297550 = new URLSearchParams({ 'url': _0x42e75a, 'sitekey': _0x3567eb, 'poll': _0x2304f1(0x1dd) }); _0x48f11c && _0x297550[_0x2304f1(0x205)](_0x2304f1(0x1e3), _0x48f11c); const _0x3ef7a0 = _0x327c1b + '/recaptcha-v2-token?' + _0x297550[_0x2304f1(0x1f7)](); _0x2474c8[_0x2304f1(0x1e6)](_0x2304f1(0x1d2) + _0x3ef7a0); const _0x9d3bd2 = await gotScraping[_0x2304f1(0x206)](_0x3ef7a0, { 'timeout': { 'request': 0x2bf20 }, 'responseType': _0x2304f1(0x1f4) }), _0x44dace = _0x9d3bd2[_0x2304f1(0x1de)]; _0x2474c8[_0x2304f1(0x1e6)]('Solver\x20response:', _0x44dace); const _0x9cc33c = _0x44dace[_0x2304f1(0x1d0)] || null; if (_0x44dace[_0x2304f1(0x1c0)]) return _0x2474c8[_0x2304f1(0x1c9)](_0x2304f1(0x1a0) + (_0x44dace[_0x2304f1(0x1b7)] || _0x44dace[_0x2304f1(0x1c4)] || '?') + 's'), { 'token': _0x44dace['token'], 'userAgent': _0x9cc33c }; if (_0x44dace[_0x2304f1(0x1d1)] === _0x2304f1(0x1c9) && _0x44dace[_0x2304f1(0x1ee)]) return _0x2474c8[_0x2304f1(0x1c9)](_0x2304f1(0x1cc)), { 'token': _0x44dace[_0x2304f1(0x1ee)], 'userAgent': _0x9cc33c }; throw new Error(_0x2304f1(0x1fd) + (_0x44dace['reason'] || JSON[_0x2304f1(0x1d6)](_0x44dace))); } async function claimFaucetApi(_0x49e4ff, _0x32e810, _0x3a7517, _0xc56ea6, _0x169c8d) { const _0x23bec1 = _0x4cd458; _0x169c8d[_0x23bec1(0x1ec)](_0x23bec1(0x1e1)); const _0x4051fd = { 'accept': 'application/json,\x20text/plain,\x20*/*', 'accept-language': 'en-US,en;q=0.7', 'cache-control': _0x23bec1(0x1d4), 'content-type': _0x23bec1(0x1f6), 'dnt': '1', 'origin': FAUCET_URL, 'pragma': _0x23bec1(0x1d4), 'priority': _0x23bec1(0x1eb), 'referer': FAUCET_URL + '/', 'sec-ch-ua': _0x23bec1(0x1a4), 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': _0x23bec1(0x1c7), 'sec-fetch-dest': _0x23bec1(0x207), 'sec-fetch-mode': _0x23bec1(0x1c6), 'sec-fetch-site': _0x23bec1(0x1ba), 'sec-gpc': '1', 'user-agent': 'Mozilla/5.0\x20(X11;\x20Linux\x20x86_64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/143.0.0.0\x20Safari/537.36' }, _0x3f3fd6 = { 'address': _0x49e4ff['toLowerCase'](), 'denom': _0x3a7517, 'response': _0x32e810 }, _0x27363f = { 'headers': _0x4051fd, 'json': _0x3f3fd6, 'timeout': { 'request': 0x7530 }, 'responseType': _0x23bec1(0x1f4) }; _0xc56ea6 && (_0x27363f[_0x23bec1(0x1aa)] = _0xc56ea6); _0x169c8d[_0x23bec1(0x201)](_0x23bec1(0x1b0), FAUCET_API_URL), _0x169c8d[_0x23bec1(0x1e6)](_0x23bec1(0x1a6), { ..._0x3f3fd6, 'response': _0x3f3fd6['response'][_0x23bec1(0x1d5)](0x0, 0x32) + _0x23bec1(0x1d3) }); const _0x1471e5 = await gotScraping['post'](FAUCET_API_URL, _0x27363f), _0x420c51 = _0x1471e5['body']; _0x169c8d[_0x23bec1(0x1e6)](_0x23bec1(0x20b), _0x420c51); if (_0x420c51['code'] === 0xc8 || _0x420c51['code'] === _0x23bec1(0x1cb)) return _0x169c8d['success'](_0x23bec1(0x204) + _0x420c51[_0x23bec1(0x1d8)] + _0x23bec1(0x1a2)), _0x169c8d[_0x23bec1(0x1ec)](_0x23bec1(0x1b9) + _0x420c51[_0x23bec1(0x1e2)]), _0x420c51; const _0x169823 = typeof _0x420c51 === _0x23bec1(0x1a8) ? _0x420c51 : JSON['stringify'](_0x420c51); if (_0x169823[_0x23bec1(0x1fa)](_0x23bec1(0x200)) && _0x169823[_0x23bec1(0x1fa)](_0x23bec1(0x19f))) { const _0x1a1e49 = _0x169823['match'](/maximum monthly amount of (\d+)/), _0x1dde64 = _0x1a1e49 ? parseInt(_0x1a1e49[0x1]) : 0x3; throw new Error(_0x23bec1(0x1d7) + _0x1dde64 + ':' + _0x169823[_0x23bec1(0x1e8)](/\n/g, '\x20')); } throw new Error('Faucet\x20claim\x20failed:\x20' + _0x169823[_0x23bec1(0x1e8)](/\n/g, '\x20')); } function _0x590c() { const _0x15bb35 = ['146992SVmwDz', '\x20tokens!', 'SCTG\x20solved\x20in\x20', '\x22Brave\x22;v=\x22143\x22,\x20\x22Chromium\x22;v=\x22143\x22,\x20\x22Not\x20A(Brand\x22;v=\x2224\x22', 'your_api_key', 'Request\x20body:', '16RxpZpt', 'string', 'trim', 'proxyUrl', 'statusCode', 'Proxy:\x20', 'ERROR_ZERO_BALANCE', 'env', 'https://api.sctg.xyz', 'POST', 'reCAPTCHA\x20token:\x20', 'error', 'NOT_READY', 'sctg', 'toFixed', 'solver_no_balance', 'elapsed_time_seconds', 'userAgent', 'TxHash:\x20', 'same-site', '1363805amLbjH', 'SOLVER_API_KEY', 'SOLVER_URL', '/res.php?', '623SBfbng', 'token', 'solverUrl', 'ZERO_BALANCE', 'length', 'elapsed_time', 'apiKey', 'cors', '\x22Linux\x22', 'https://apifaucet-t.polarise.org/claim', 'success', '\x20POLAR)\x20-\x20account\x20marked', '200', 'reCAPTCHA\x20solved', '/in.php?', '1998524FKLjJO', 'Using\x20proxy\x20for\x20SCTG:\x20', 'user_agent', 'status', 'Requesting:\x20', '...', 'no-cache', 'slice', 'stringify', 'MONTHLY_FAUCET_LIMIT:', 'amount', 'Submitting\x20task\x20to\x20SCTG...', 'userrecaptcha', '850818eHucyF', 'push', 'true', 'body', 'http://127.0.0.1:5000', '6Le97hIsAAAAAFsmmcgy66F9YbLnwgnWBILrMuqn', 'Claiming\x20from\x20faucet...', 'txhash', 'proxy', 'useSCTG', 'sctg_api_key_here', 'debug', 'message', 'replace', 'local', '279708rkobse', 'u=1,\x20i', 'info', 'Unknown\x20error', 'recaptcha_token', '83052ZBlxoP', 'SOLVER_ZERO_BALANCE:\x20SCTG\x20API\x20key\x20has\x20no\x20balance', 'Faucet\x20claim\x20failed:\x20', 'Using\x20SCTG\x20API\x20with\x20', 'SOLVER_API_KEY_', 'json', 'warn', 'application/json', 'toString', 'MONTHLY_FAUCET_LIMIT', 'now', 'includes', 'toLowerCase', 'polling...', 'reCAPTCHA\x20solve\x20failed:\x20', '1390380pBYFEs', 'Wallet:\x20', 'amount\x20limit\x20exceeded', 'request', 'SCTG\x20submit\x20failed:\x20', 'API\x20keys\x20not\x20configured.', 'Claimed\x20', 'append', 'get', 'empty', 'Error\x20stack:\x20', 'Monthly\x20faucet\x20limit\x20reached\x20(', 'toISOString', 'Faucet\x20response:', 's]\x20SCTG\x20status:\x20', '/health', 'monthly', 'reCAPTCHA\x20solved\x20in\x20']; _0x590c = function () { return _0x15bb35; }; return _0x590c(); } export async function claimFaucet(_0xe778b5, _0x1fe75c = null, _0x552f64 = 0x1, _0x3e870e = null, _0x25a4f2 = null) { const _0x1e67a7 = _0x4cd458, _0x1aeabb = '' + _0x552f64, _0x47987a = _0x25a4f2 || { 'info': () => { }, 'warn': () => { }, 'error': () => { }, 'success': () => { }, 'done': () => { }, 'fail': () => { }, 'debug': () => { } }; _0x47987a[_0x1e67a7(0x1ec)](_0x1e67a7(0x1ff) + formatAddress(_0xe778b5)), _0x47987a[_0x1e67a7(0x1ec)](_0x1e67a7(0x1ac) + (_0x1fe75c || 'none')); const _0x3b65d0 = getSolverConfig(); if (_0x3b65d0[_0x1e67a7(0x1e4)]) _0x47987a[_0x1e67a7(0x1ec)]('Solver:\x20SCTG\x20API'); else { } try { let _0x4836a5, _0x48a291 = null; const _0x77db0c = _0x3e870e || _0x3b65d0[_0x1e67a7(0x1c5)], _0xba4b2a = _0x3e870e ? isValidSolverKey(_0x3e870e) : _0x3b65d0[_0x1e67a7(0x1e4)]; if (_0xba4b2a) _0x4836a5 = await solveRecaptchaSCTG(FAUCET_URL, RECAPTCHA_SITEKEY, _0x77db0c, _0x1fe75c, _0x47987a); else { const _0x289fc = await solveRecaptchaLocal(FAUCET_URL, RECAPTCHA_SITEKEY, _0x3b65d0[_0x1e67a7(0x1c1)], _0x1fe75c, _0x47987a); _0x4836a5 = _0x289fc[_0x1e67a7(0x1c0)], _0x48a291 = _0x289fc['userAgent']; } _0x47987a[_0x1e67a7(0x1e6)](_0x1e67a7(0x1b1) + _0x4836a5[_0x1e67a7(0x1d5)](0x0, 0x32) + '...'); _0x48a291 && _0x47987a[_0x1e67a7(0x1e6)]('Solver\x20user-agent:\x20' + _0x48a291[_0x1e67a7(0x1d5)](0x0, 0x32) + _0x1e67a7(0x1d3)); const _0x5eabfd = await claimFaucetApi(_0xe778b5, _0x4836a5, 'uluna', _0x1fe75c, _0x47987a), _0x4431f6 = getAccount(_0xe778b5), _0x47889d = { 'wallet': _0xe778b5, 'lastFaucetClaim': new Date()[_0x1e67a7(0x20a)](), 'lastFaucetTxHash': _0x5eabfd['txhash'], 'lastFaucetAmount': _0x5eabfd[_0x1e67a7(0x1d8)] }; return _0x48a291 && (_0x47889d[_0x1e67a7(0x1b8)] = _0x48a291), saveAccount(_0x47889d), { 'success': !![], 'wallet': _0xe778b5, 'amount': _0x5eabfd['amount'], 'txhash': _0x5eabfd[_0x1e67a7(0x1e2)] }; } catch (_0x416f12) { const _0x598d12 = _0x416f12[_0x1e67a7(0x1e7)] ? _0x416f12[_0x1e67a7(0x1e7)]['replace'](/\\n/g, '\x20')[_0x1e67a7(0x1e8)](/\n/g, '\x20') : _0x1e67a7(0x1ed); if (_0x598d12[_0x1e67a7(0x1fa)](_0x1e67a7(0x1f8))) { const _0x3ec074 = _0x598d12['split'](':'), _0x47a389 = parseInt(_0x3ec074[0x1]) || 0x3; return saveAccount({ 'wallet': _0xe778b5, 'monthlyFaucetLimitReached': !![], 'monthlyFaucetLimit': _0x47a389, 'monthlyFaucetLimitDate': new Date()[_0x1e67a7(0x20a)]() }), _0x47987a['warn'](_0x1e67a7(0x209) + _0x47a389 + _0x1e67a7(0x1ca)), { 'success': ![], 'wallet': _0xe778b5, 'error': 'monthly_limit', 'monthlyLimit': _0x47a389 }; } if (_0x598d12[_0x1e67a7(0x1fa)]('SOLVER_ZERO_BALANCE') || _0x598d12[_0x1e67a7(0x1fa)](_0x1e67a7(0x1ad))) return _0x47987a['warn']('SCTG\x20API\x20key\x20has\x20no\x20balance\x20-\x20skipping\x20faucet'), { 'success': ![], 'wallet': _0xe778b5, 'error': _0x1e67a7(0x1b6) }; const _0x1bd443 = isRetryableError(_0x416f12); return _0x1bd443 ? _0x47987a[_0x1e67a7(0x1f5)](_0x1e67a7(0x1f1) + _0x598d12['slice'](0x0, 0x64)) : (_0x47987a[_0x1e67a7(0x1b2)](_0x1e67a7(0x1f1) + _0x598d12[_0x1e67a7(0x1d5)](0x0, 0x64)), _0x47987a[_0x1e67a7(0x1e6)](_0x1e67a7(0x208) + _0x416f12['stack']?.[_0x1e67a7(0x1e8)](/\n/g, '\x20â†’\x20')[_0x1e67a7(0x1e8)](/\s+/g, '\x20')[_0x1e67a7(0x1d5)](0x0, 0xc8))), { 'success': ![], 'wallet': _0xe778b5, 'error': _0x598d12['slice'](0x0, 0x64) }; } } export function validateSolverConfig(_0x25c542) { const _0x5ea3b8 = _0x4cd458, _0xdd8be0 = process[_0x5ea3b8(0x1ae)]['SOLVER_URL'] || _0x5ea3b8(0x1df), _0x1d6611 = []; let _0x1edc2d = 0x1; while (process[_0x5ea3b8(0x1ae)][_0x5ea3b8(0x1f3) + _0x1edc2d]) { const _0x5ef2ea = process[_0x5ea3b8(0x1ae)][_0x5ea3b8(0x1f3) + _0x1edc2d][_0x5ea3b8(0x1a9)](); _0x5ef2ea && ![_0x5ea3b8(0x1e5), 'your_api_key'][_0x5ea3b8(0x1fa)](_0x5ef2ea[_0x5ea3b8(0x1fb)]()) && _0x1d6611[_0x5ea3b8(0x1dc)](_0x5ef2ea), _0x1edc2d++; } if (_0x1d6611[_0x5ea3b8(0x1c3)] > 0x0) return _0x25c542['info'](_0x5ea3b8(0x1f2) + _0x1d6611[_0x5ea3b8(0x1c3)] + '\x20key(s)'), { 'mode': _0x5ea3b8(0x1b4), 'keys': _0x1d6611 }; const _0x1d8c6f = process[_0x5ea3b8(0x1ae)][_0x5ea3b8(0x1bc)]; if (_0x1d8c6f && !['sctg_api_key_here', _0x5ea3b8(0x1a5), ''][_0x5ea3b8(0x1fa)](_0x1d8c6f['toLowerCase']()[_0x5ea3b8(0x1a9)]())) return _0x25c542[_0x5ea3b8(0x1ec)]('Using\x20SCTG\x20API\x20(legacy\x20single\x20key)\x20for\x20captcha\x20solving'), { 'mode': _0x5ea3b8(0x1b4), 'apiKey': _0x1d8c6f }; return _0x25c542['warn'](_0x5ea3b8(0x203)), { 'mode': _0x5ea3b8(0x1e9), 'url': _0xdd8be0 }; }