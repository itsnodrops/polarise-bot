function _0x4b25(_0x208746, _0xf5836a) { _0x208746 = _0x208746 - 0x11f; const _0x1aef06 = _0x1aef(); let _0x4b2573 = _0x1aef06[_0x208746]; return _0x4b2573; } const _0x2b8a46 = _0x4b25; (function (_0x14dae0, _0x4869fe) { const _0x5bab3a = _0x4b25, _0x4d29eb = _0x14dae0(); while (!![]) { try { const _0x73eb36 = parseInt(_0x5bab3a(0x15e)) / 0x1 + -parseInt(_0x5bab3a(0x17a)) / 0x2 + -parseInt(_0x5bab3a(0x17e)) / 0x3 * (parseInt(_0x5bab3a(0x161)) / 0x4) + parseInt(_0x5bab3a(0x125)) / 0x5 + parseInt(_0x5bab3a(0x167)) / 0x6 + parseInt(_0x5bab3a(0x12e)) / 0x7 * (-parseInt(_0x5bab3a(0x12a)) / 0x8) + parseInt(_0x5bab3a(0x12c)) / 0x9; if (_0x73eb36 === _0x4869fe) break; else _0x4d29eb['push'](_0x4d29eb['shift']()); } catch (_0x5af944) { _0x4d29eb['push'](_0x4d29eb['shift']()); } } }(_0x1aef, 0xb2e6c)); function _0x1aef() { const _0x2af4cd = ['userrecaptcha', 'same-site', 'token', 'local', 'u=1,\x20i', 'success', 'Using\x20SCTG\x20API\x20with\x20', 'NOT_READY', 'toLowerCase', 'reason', 'Solver:\x20SCTG\x20API', 'length', 'Faucet\x20response:', 'info', '\x20tokens!', 'Request\x20body:', 'API\x20keys\x20not\x20configured.', '/res.php?', 'https://apifaucet-t.polarise.org/claim', 'Claimed\x20', 'Solver\x20user-agent:\x20', 'toFixed', 'TxHash:\x20', 'includes', 'json', 'push', 'proxy', 'POST', 'Using\x20proxy\x20for\x20SCTG:\x20', 'application/json,\x20text/plain,\x20*/*', 'request', 'SCTG\x20timeout:\x20captcha\x20not\x20solved\x20within\x205\x20minutes', 'sctg_api_key_here', '200', 'Proxy:\x20', 'stringify', 'stack', 'now', '/in.php?', 'slice', 'application/json', 'get', 'useSCTG', 'Submitting\x20task\x20to\x20SCTG...', '1303308dggybL', 'your_api_key', 'SOLVER_API_KEY', '748nuSwvV', 'cors', 'response', 'Unknown\x20error', 'apiKey', 'post', '5375448boDHlj', 'polling...', 'txhash', 'Requesting:\x20', '...', 'status', 'reCAPTCHA\x20solved', 'userAgent', 'toString', 'env', 'en-US,en;q=0.7', '\x22Linux\x22', 's]\x20SCTG\x20status:\x20', 'reCAPTCHA\x20solve\x20failed:\x20', 'replace', '\x20â†’\x20', 'debug', 'warn', 'SOLVER_API_KEY_', '2723766zmRPJJ', 'Wallet:\x20', 'solverUrl', 'proxyUrl', '1662FzutWS', 'amount', 'Faucet\x20claim\x20failed:\x20', 'SCTG\x20solved\x20in\x20', 'SOLVER_URL', 'body', '6Le97hIsAAAAAFsmmcgy66F9YbLnwgnWBILrMuqn', 'recaptcha_token', 'message', 'statusCode', 'user_agent', 'https://api.sctg.xyz', '/health', 'Mozilla/5.0\x20(X11;\x20Linux\x20x86_64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/143.0.0.0\x20Safari/537.36', 'Solver\x20response:', 'http://127.0.0.1:5000', 'no-cache', '5232645RTAbcy', 'trim', 'reCAPTCHA\x20token:\x20', 'empty', 'Claiming\x20from\x20faucet...', '9871616iLUTqY', 'toISOString', '1678212VJCocw', 'https://faucet.polarise.org', '7VaHOfN', 'code', 'sctg', 'SCTG\x20submit\x20response:']; _0x1aef = function () { return _0x2af4cd; }; return _0x1aef(); } import { gotScraping } from 'got-scraping'; import { formatAddress, sleep, getAccount, saveAccount, isRetryableError } from '../utils/helper.js'; const FAUCET_URL = _0x2b8a46(0x12d), FAUCET_API_URL = _0x2b8a46(0x144), SCTG_API_URL = _0x2b8a46(0x11f), RECAPTCHA_SITEKEY = _0x2b8a46(0x184); function isValidSolverKey(_0x14b94d) { const _0x78bee8 = _0x2b8a46; if (!_0x14b94d) return ![]; const _0x1530e5 = [_0x78bee8(0x152), 'your_api_key', '']; return !_0x1530e5[_0x78bee8(0x149)](_0x14b94d['toLowerCase']()['trim']()); } function getSolverConfig() { const _0x492190 = _0x2b8a46, _0x289b79 = process[_0x492190(0x170)][_0x492190(0x160)], _0x27f87a = process[_0x492190(0x170)]['SOLVER_URL'] || _0x492190(0x123); return { 'apiKey': _0x289b79, 'solverUrl': _0x27f87a, 'useSCTG': isValidSolverKey(_0x289b79) }; } export async function checkSolverServerConnection(_0x3f4646 = _0x2b8a46(0x123)) { const _0x434592 = _0x2b8a46; try { const _0x3da382 = await gotScraping[_0x434592(0x15b)](_0x3f4646 + _0x434592(0x120), { 'timeout': { 'request': 0x1388 }, 'retry': { 'limit': 0x0 } }); return _0x3da382[_0x434592(0x187)] === 0xc8; } catch { return ![]; } } async function solveRecaptchaSCTG(_0x2cbe99, _0x4b6528, _0x495608, _0x10f5fd, _0x21d9ee) { const _0x2e61a5 = _0x2b8a46, _0x254deb = { 'timeout': { 'request': 0x7530 }, 'responseType': _0x2e61a5(0x14a) }; _0x10f5fd && (_0x254deb['proxyUrl'] = _0x10f5fd, _0x21d9ee[_0x2e61a5(0x177)](_0x2e61a5(0x14e) + _0x10f5fd)); const _0x2b0f77 = new URLSearchParams({ 'key': _0x495608, 'method': _0x2e61a5(0x132), 'pageurl': _0x2cbe99, 'sitekey': _0x4b6528, 'json': '1' }); _0x21d9ee[_0x2e61a5(0x177)](_0x2e61a5(0x15d)); const _0x4a599e = await gotScraping['get'](SCTG_API_URL + _0x2e61a5(0x158) + _0x2b0f77[_0x2e61a5(0x16f)](), _0x254deb), _0x103871 = _0x4a599e[_0x2e61a5(0x183)]; _0x21d9ee[_0x2e61a5(0x177)](_0x2e61a5(0x131), _0x103871); if (_0x103871['status'] !== 0x1) throw new Error('SCTG\x20submit\x20failed:\x20' + (_0x103871[_0x2e61a5(0x150)] || _0x2e61a5(0x164))); const _0x53cc4a = _0x103871[_0x2e61a5(0x150)], _0x41d6cf = 0x12c, _0x5b4db5 = 0xa, _0x358a85 = Date[_0x2e61a5(0x157)](); while ((Date[_0x2e61a5(0x157)]() - _0x358a85) / 0x3e8 < _0x41d6cf) { await sleep(_0x5b4db5 * 0x3e8); const _0x183e0b = new URLSearchParams({ 'key': _0x495608, 'id': _0x53cc4a, 'action': 'get', 'json': '1' }), _0x372e3d = { 'timeout': { 'request': 0x7530 }, 'responseType': _0x2e61a5(0x14a) }; _0x10f5fd && (_0x372e3d[_0x2e61a5(0x17d)] = _0x10f5fd); const _0x78a9bd = await gotScraping[_0x2e61a5(0x15b)](SCTG_API_URL + _0x2e61a5(0x143) + _0x183e0b[_0x2e61a5(0x16f)](), _0x372e3d), _0xb5201f = _0x78a9bd['body'], _0x52fcf8 = ((Date['now']() - _0x358a85) / 0x3e8)[_0x2e61a5(0x147)](0x1); if (_0xb5201f[_0x2e61a5(0x16c)] === 0x1 && _0xb5201f[_0x2e61a5(0x150)] && !_0xb5201f[_0x2e61a5(0x150)][_0x2e61a5(0x149)](_0x2e61a5(0x139)) && !_0xb5201f[_0x2e61a5(0x150)][_0x2e61a5(0x149)]('PROCESSING')) return _0x21d9ee[_0x2e61a5(0x137)](_0x2e61a5(0x181) + _0x52fcf8 + 's'), _0xb5201f[_0x2e61a5(0x150)]; _0x21d9ee[_0x2e61a5(0x177)]('[' + _0x52fcf8 + _0x2e61a5(0x173) + (_0xb5201f['request'] || _0x2e61a5(0x168))); } throw new Error(_0x2e61a5(0x151)); } async function solveRecaptchaLocal(_0x44cea3, _0x50ad60, _0x5356da, _0x19bf65, _0x2b6a5f) { const _0x1ae836 = _0x2b8a46, _0x300d99 = new URLSearchParams({ 'url': _0x44cea3, 'sitekey': _0x50ad60, 'poll': 'true' }); _0x19bf65 && _0x300d99['append'](_0x1ae836(0x14c), _0x19bf65); const _0x2c6e11 = _0x5356da + '/recaptcha-v2-token?' + _0x300d99['toString'](); _0x2b6a5f['debug'](_0x1ae836(0x16a) + _0x2c6e11); const _0x47a409 = await gotScraping[_0x1ae836(0x15b)](_0x2c6e11, { 'timeout': { 'request': 0x2bf20 }, 'responseType': _0x1ae836(0x14a) }), _0x58ece1 = _0x47a409[_0x1ae836(0x183)]; _0x2b6a5f[_0x1ae836(0x177)](_0x1ae836(0x122), _0x58ece1); const _0x49b97b = _0x58ece1[_0x1ae836(0x188)] || null; if (_0x58ece1[_0x1ae836(0x134)]) return _0x2b6a5f[_0x1ae836(0x137)]('reCAPTCHA\x20solved\x20in\x20' + (_0x58ece1['elapsed_time_seconds'] || _0x58ece1['elapsed_time'] || '?') + 's'), { 'token': _0x58ece1[_0x1ae836(0x134)], 'userAgent': _0x49b97b }; if (_0x58ece1[_0x1ae836(0x16c)] === _0x1ae836(0x137) && _0x58ece1[_0x1ae836(0x185)]) return _0x2b6a5f[_0x1ae836(0x137)](_0x1ae836(0x16d)), { 'token': _0x58ece1[_0x1ae836(0x185)], 'userAgent': _0x49b97b }; throw new Error(_0x1ae836(0x174) + (_0x58ece1[_0x1ae836(0x13b)] || JSON['stringify'](_0x58ece1))); } async function claimFaucetApi(_0x50b4bb, _0x11e4b0, _0x41a363, _0x3e7cfb, _0x176d78) { const _0x17cb30 = _0x2b8a46; _0x176d78[_0x17cb30(0x13f)](_0x17cb30(0x129)); const _0x167b49 = { 'accept': _0x17cb30(0x14f), 'accept-language': _0x17cb30(0x171), 'cache-control': _0x17cb30(0x124), 'content-type': _0x17cb30(0x15a), 'dnt': '1', 'origin': FAUCET_URL, 'pragma': 'no-cache', 'priority': _0x17cb30(0x136), 'referer': FAUCET_URL + '/', 'sec-ch-ua': '\x22Brave\x22;v=\x22143\x22,\x20\x22Chromium\x22;v=\x22143\x22,\x20\x22Not\x20A(Brand\x22;v=\x2224\x22', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': _0x17cb30(0x172), 'sec-fetch-dest': _0x17cb30(0x128), 'sec-fetch-mode': _0x17cb30(0x162), 'sec-fetch-site': _0x17cb30(0x133), 'sec-gpc': '1', 'user-agent': _0x17cb30(0x121) }, _0x45e83a = { 'address': _0x50b4bb[_0x17cb30(0x13a)](), 'denom': _0x41a363, 'response': _0x11e4b0 }, _0x7c25ee = { 'headers': _0x167b49, 'json': _0x45e83a, 'timeout': { 'request': 0x7530 }, 'responseType': 'json' }; _0x3e7cfb && (_0x7c25ee[_0x17cb30(0x17d)] = _0x3e7cfb); _0x176d78[_0x17cb30(0x150)](_0x17cb30(0x14d), FAUCET_API_URL), _0x176d78['debug'](_0x17cb30(0x141), { ..._0x45e83a, 'response': _0x45e83a[_0x17cb30(0x163)][_0x17cb30(0x159)](0x0, 0x32) + _0x17cb30(0x16b) }); const _0x536fa1 = await gotScraping[_0x17cb30(0x166)](FAUCET_API_URL, _0x7c25ee), _0x5338e5 = _0x536fa1['body']; _0x176d78[_0x17cb30(0x177)](_0x17cb30(0x13e), _0x5338e5); if (_0x5338e5['code'] === 0xc8 || _0x5338e5[_0x17cb30(0x12f)] === _0x17cb30(0x153)) return _0x176d78[_0x17cb30(0x137)](_0x17cb30(0x145) + _0x5338e5['amount'] + _0x17cb30(0x140)), _0x176d78[_0x17cb30(0x13f)](_0x17cb30(0x148) + _0x5338e5[_0x17cb30(0x169)]), _0x5338e5; throw new Error(_0x17cb30(0x180) + JSON[_0x17cb30(0x155)](_0x5338e5)); } export async function claimFaucet(_0x3c5c79, _0x341771 = null, _0x374f79 = 0x1, _0x5e1f59 = null, _0x3bda13 = null) { const _0x13f806 = _0x2b8a46, _0x4cee0b = '' + _0x374f79, _0x425aa6 = _0x3bda13 || { 'info': () => { }, 'warn': () => { }, 'error': () => { }, 'success': () => { }, 'done': () => { }, 'fail': () => { }, 'debug': () => { } }; _0x425aa6['info'](_0x13f806(0x17b) + formatAddress(_0x3c5c79)), _0x425aa6[_0x13f806(0x13f)](_0x13f806(0x154) + (_0x341771 || 'none')); const _0x387b4b = getSolverConfig(); if (_0x387b4b[_0x13f806(0x15c)]) _0x425aa6[_0x13f806(0x13f)](_0x13f806(0x13c)); else { } try { let _0x230654, _0x2917e5 = null; const _0x331cb8 = _0x5e1f59 || _0x387b4b[_0x13f806(0x165)], _0x5e1a0b = _0x5e1f59 ? isValidSolverKey(_0x5e1f59) : _0x387b4b[_0x13f806(0x15c)]; if (_0x5e1a0b) _0x230654 = await solveRecaptchaSCTG(FAUCET_URL, RECAPTCHA_SITEKEY, _0x331cb8, _0x341771, _0x425aa6); else { const _0x1d7c97 = await solveRecaptchaLocal(FAUCET_URL, RECAPTCHA_SITEKEY, _0x387b4b[_0x13f806(0x17c)], _0x341771, _0x425aa6); _0x230654 = _0x1d7c97[_0x13f806(0x134)], _0x2917e5 = _0x1d7c97[_0x13f806(0x16e)]; } _0x425aa6[_0x13f806(0x177)](_0x13f806(0x127) + _0x230654[_0x13f806(0x159)](0x0, 0x32) + '...'); _0x2917e5 && _0x425aa6[_0x13f806(0x177)](_0x13f806(0x146) + _0x2917e5[_0x13f806(0x159)](0x0, 0x32) + _0x13f806(0x16b)); const _0x2f277d = await claimFaucetApi(_0x3c5c79, _0x230654, 'uluna', _0x341771, _0x425aa6), _0x50d9be = getAccount(_0x3c5c79), _0x37edb0 = { 'wallet': _0x3c5c79, 'lastFaucetClaim': new Date()[_0x13f806(0x12b)](), 'lastFaucetTxHash': _0x2f277d['txhash'], 'lastFaucetAmount': _0x2f277d[_0x13f806(0x17f)] }; return _0x2917e5 && (_0x37edb0[_0x13f806(0x16e)] = _0x2917e5), saveAccount(_0x37edb0), { 'success': !![], 'wallet': _0x3c5c79, 'amount': _0x2f277d[_0x13f806(0x17f)], 'txhash': _0x2f277d[_0x13f806(0x169)] }; } catch (_0x4584f0) { const _0x4e2c68 = _0x4584f0[_0x13f806(0x186)] ? _0x4584f0[_0x13f806(0x186)][_0x13f806(0x175)](/\n/g, '\x20') : _0x13f806(0x164), _0x521038 = isRetryableError(_0x4584f0); return _0x521038 ? _0x425aa6['warn'](_0x13f806(0x180) + _0x4e2c68) : (_0x425aa6['error']('Faucet\x20claim\x20failed:\x20' + _0x4e2c68), _0x425aa6[_0x13f806(0x177)]('Error\x20stack:\x20' + _0x4584f0[_0x13f806(0x156)]?.[_0x13f806(0x175)](/\n/g, _0x13f806(0x176))[_0x13f806(0x175)](/\s+/g, '\x20'))), { 'success': ![], 'wallet': _0x3c5c79, 'error': _0x4e2c68 }; } } export function validateSolverConfig(_0x2e59ac) { const _0x34e151 = _0x2b8a46, _0x4de50e = process[_0x34e151(0x170)][_0x34e151(0x182)] || _0x34e151(0x123), _0x3b8d8e = []; let _0x289fe4 = 0x1; while (process[_0x34e151(0x170)][_0x34e151(0x179) + _0x289fe4]) { const _0x4d0e4e = process['env'][_0x34e151(0x179) + _0x289fe4][_0x34e151(0x126)](); _0x4d0e4e && ![_0x34e151(0x152), _0x34e151(0x15f)][_0x34e151(0x149)](_0x4d0e4e[_0x34e151(0x13a)]()) && _0x3b8d8e[_0x34e151(0x14b)](_0x4d0e4e), _0x289fe4++; } if (_0x3b8d8e[_0x34e151(0x13d)] > 0x0) return _0x2e59ac['info'](_0x34e151(0x138) + _0x3b8d8e[_0x34e151(0x13d)] + '\x20key(s)'), { 'mode': _0x34e151(0x130), 'keys': _0x3b8d8e }; const _0x1d291e = process[_0x34e151(0x170)][_0x34e151(0x160)]; if (_0x1d291e && ![_0x34e151(0x152), _0x34e151(0x15f), ''][_0x34e151(0x149)](_0x1d291e['toLowerCase']()[_0x34e151(0x126)]())) return _0x2e59ac[_0x34e151(0x13f)]('Using\x20SCTG\x20API\x20(legacy\x20single\x20key)\x20for\x20captcha\x20solving'), { 'mode': _0x34e151(0x130), 'apiKey': _0x1d291e }; return _0x2e59ac[_0x34e151(0x178)](_0x34e151(0x142)), { 'mode': _0x34e151(0x135), 'url': _0x4de50e }; }