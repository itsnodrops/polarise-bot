const _0x1ac401 = _0x2815; (function (_0x2ae663, _0x306e8e) { const _0x1067c1 = _0x2815, _0x163ccf = _0x2ae663(); while (!![]) { try { const _0x5a5ed2 = -parseInt(_0x1067c1(0x205)) / 0x1 + parseInt(_0x1067c1(0x203)) / 0x2 + parseInt(_0x1067c1(0x1e7)) / 0x3 + parseInt(_0x1067c1(0x202)) / 0x4 * (parseInt(_0x1067c1(0x209)) / 0x5) + parseInt(_0x1067c1(0x1f0)) / 0x6 * (parseInt(_0x1067c1(0x1df)) / 0x7) + parseInt(_0x1067c1(0x206)) / 0x8 + -parseInt(_0x1067c1(0x210)) / 0x9 * (parseInt(_0x1067c1(0x201)) / 0xa); if (_0x5a5ed2 === _0x306e8e) break; else _0x163ccf['push'](_0x163ccf['shift']()); } catch (_0x4391a4) { _0x163ccf['push'](_0x163ccf['shift']()); } } }(_0x3853, 0x19ea9)); function _0x3853() { const _0x492edb = ['ethers', 'wait', '197170uuoRaV', '4vibzqW', '341978mXTPxT', 'TIP_AMOUNT_MAX', '44532sgbEts', '1515736clKcAt', 'function\x20mintDiscussion(bytes32\x20questionId,\x20uint256\x20option0,\x20uint256\x20option1,\x20address\x20collateralToken,\x20uint256\x20endTime,\x20bytes\x20signatures)', 'approve', '217670DAlNGm', '0xe69d849d', '115792089237316195423570985008687907853269984665640564039457584007913129639935', 'parseEther', 'Wallet', '0x00', '0x351EF49f811776a3eE26f3A1fBc202915B8f2945', '225FZFlKs', 'startsWith', 'Polarise', 'function\x20name()\x20view\x20returns\x20(string)', 'allowance', 'balanceOf', 'sendTransaction', 'https://explorer.polarise.org', '0xa9450c39', '575491wtlqpC', 'TIP_AMOUNT_MIN', 'function\x20allowance(address\x20owner,\x20address\x20spender)\x20view\x20returns\x20(uint256)', 'function\x20symbol()\x20view\x20returns\x20(string)', 'function\x20tip(address\x20recipient,\x20uint256\x20amount)', 'RPC', 'JsonRpcProvider', 'function\x20approve(address\x20spender,\x20uint256\x20amount)\x20returns\x20(bool)', '225582vwEzYP', 'Contract', '0.00001', '0.001', '9051efe589e69d27e1a3cfb0db8a500e5cf54ba63db52cb0fb75dbdc6af876a5', 'slice', '0xc0', 'toFixed', '0x9c4324156bA59a70FFbc67b98eE2EF45AEE4e19F', '12Traspr', 'message', 'DISCUSSION_NFT', 'chainId', '0x02', 'blockNumber', 'address', 'zeroPadValue', 'function\x20decimals()\x20view\x20returns\x20(uint8)', 'status', 'hash', 'TIP', 'GRISE', 'random', 'receipt']; _0x3853 = function () { return _0x492edb; }; return _0x3853(); } export const NETWORK = { 'name': _0x1ac401(0x212), 'chainId': 0x5cce, 'rpcUrl': 'https://chainrpc.polarise.org', 'explorerUrl': _0x1ac401(0x1dd) }; export const CONTRACTS = { 'GRISE': _0x1ac401(0x20f), 'TIP': '0x639A8A05DAD556256046709317c76927b053a85D', 'DISCUSSION_NFT': '0x58477a0e15ae82E9839f209b13EFF25eC06c252B', 'ACTIVATION': _0x1ac401(0x1ef) }; export const ERC20_ABI = [_0x1ac401(0x1e6), _0x1ac401(0x1e1), 'function\x20balanceOf(address\x20account)\x20view\x20returns\x20(uint256)', 'function\x20transfer(address\x20to,\x20uint256\x20amount)\x20returns\x20(bool)', _0x1ac401(0x1f8), _0x1ac401(0x1e2), _0x1ac401(0x1d9)]; export const TIP_ABI = [_0x1ac401(0x1e3)]; export const DISCUSSION_NFT_ABI = [_0x1ac401(0x207)]; function _0x2815(_0x31f36e, _0x4cbe10) { _0x31f36e = _0x31f36e - 0x1d9; const _0x3853c6 = _0x3853(); let _0x28159e = _0x3853c6[_0x31f36e]; return _0x28159e; } export const TASK_CONFIG = { 'ACTIVATION_AMOUNT': _0x1ac401(0x1ea), 'TIP_AMOUNT_MIN': _0x1ac401(0x1e9), 'TIP_AMOUNT_MAX': '0.00005', 'MAX_APPROVAL': _0x1ac401(0x20b) }; export function getRandomTipAmount() { const _0x16a790 = _0x1ac401, _0x18c03e = parseFloat(TASK_CONFIG[_0x16a790(0x1e0)]), _0x27c4a3 = parseFloat(TASK_CONFIG[_0x16a790(0x204)]), _0x37c14d = _0x18c03e + Math[_0x16a790(0x1fd)]() * (_0x27c4a3 - _0x18c03e); return _0x37c14d[_0x16a790(0x1ee)](0x5); } import { retryOperation } from '../utils/helper.js'; export async function retryRpcCall(_0x11604e, _0xca3af5 = 0x3, _0x1365cb = 0xdac) { const _0x41f347 = _0x1ac401; return await retryOperation(_0x11604e, _0x41f347(0x1e4), null, _0xca3af5, _0x1365cb); } export async function createProvider() { const _0x21c6cb = _0x1ac401, { ethers: _0x43578b } = await import('ethers'), _0x17ac8f = new _0x43578b['Network'](NETWORK['name'], NETWORK[_0x21c6cb(0x1f3)]); return await retryRpcCall(async () => { const _0x41557f = _0x21c6cb, _0x3f1b35 = new _0x43578b[(_0x41557f(0x1e5))](NETWORK['rpcUrl'], undefined, { 'staticNetwork': _0x17ac8f }); return await _0x3f1b35['getNetwork'](), _0x3f1b35; }, 0x5, 0xdac); } export async function createWallet(_0x3a65ec) { const _0x446ce8 = _0x1ac401, { ethers: _0x2caa01 } = await import('ethers'), _0xd926f3 = await createProvider(); return new _0x2caa01[(_0x446ce8(0x20d))](_0x3a65ec, _0xd926f3); } export async function getGriseContract(_0x3e09c0) { const _0xcb65ca = _0x1ac401, { ethers: _0x4dfb27 } = await import(_0xcb65ca(0x1ff)); return new _0x4dfb27[(_0xcb65ca(0x1e8))](CONTRACTS['GRISE'], ERC20_ABI, _0x3e09c0); } export async function getTipContract(_0xfae708) { const _0x539372 = _0x1ac401, { ethers: _0x36fcc9 } = await import(_0x539372(0x1ff)); return new _0x36fcc9[(_0x539372(0x1e8))](CONTRACTS[_0x539372(0x1fb)], TIP_ABI, _0xfae708); } export async function getDiscussionNftContract(_0x2269eb) { const _0x9e3471 = _0x1ac401, { ethers: _0x86223f } = await import(_0x9e3471(0x1ff)); return new _0x86223f[(_0x9e3471(0x1e8))](CONTRACTS['DISCUSSION_NFT'], DISCUSSION_NFT_ABI, _0x2269eb); } export async function getGriseBalance(_0x107573) { const _0x2def26 = _0x1ac401, { ethers: _0x105096 } = await import(_0x2def26(0x1ff)), _0x14cb62 = await getGriseContract(_0x107573), _0x546a1f = await retryRpcCall(async () => { const _0x4089eb = _0x2def26; return await _0x14cb62[_0x4089eb(0x1db)](_0x107573[_0x4089eb(0x1f6)]); }); return _0x105096['formatEther'](_0x546a1f); } export async function approveGriseForTip(_0x51ff95, _0x5cec4a) { const _0x5ef77e = _0x1ac401, { ethers: _0x3413aa } = await import(_0x5ef77e(0x1ff)), _0x2a4876 = await getGriseContract(_0x51ff95); try { const _0x127ad5 = await retryRpcCall(async () => { const _0x4c69e8 = _0x5ef77e; return await _0x2a4876[_0x4c69e8(0x1da)](_0x51ff95[_0x4c69e8(0x1f6)], CONTRACTS[_0x4c69e8(0x1fb)]); }), _0x2a114a = _0x3413aa['parseEther'](_0x5cec4a); if (_0x127ad5 >= _0x2a114a) return { 'success': !![], 'alreadyApproved': !![] }; const _0x14c9ca = BigInt(TASK_CONFIG['MAX_APPROVAL']), _0x218e5b = await retryRpcCall(async () => { const _0x3bf928 = _0x5ef77e, _0x3892f2 = await _0x2a4876[_0x3bf928(0x208)](CONTRACTS[_0x3bf928(0x1fb)], _0x14c9ca), _0x113de8 = await _0x3892f2[_0x3bf928(0x200)](); return { 'tx': _0x3892f2, 'receipt': _0x113de8 }; }); return { 'success': _0x218e5b[_0x5ef77e(0x1fe)][_0x5ef77e(0x1f9)] === 0x1, 'txHash': _0x218e5b['tx'][_0x5ef77e(0x1fa)] }; } catch (_0x1fa95b) { return { 'success': ![], 'error': _0x1fa95b[_0x5ef77e(0x1f1)] }; } } export async function sendTip(_0x425937, _0xf0bc9a, _0x33573e) { const _0x16bb46 = _0x1ac401, { ethers: _0x42a51b } = await import(_0x16bb46(0x1ff)), _0x75eaae = _0x42a51b[_0x16bb46(0x20c)](_0x33573e), _0x1eff80 = _0x16bb46(0x20a), _0x161c79 = _0x42a51b[_0x16bb46(0x1f7)](_0xf0bc9a, 0x20), _0x2161de = _0x42a51b[_0x16bb46(0x1f7)](_0x42a51b['toBeHex'](_0x75eaae), 0x20), _0x42fb67 = _0x1eff80 + _0x161c79['slice'](0x2) + _0x2161de[_0x16bb46(0x1ec)](0x2); try { const _0x55be54 = await retryRpcCall(async () => { const _0x5c28aa = _0x16bb46, _0x2dcdec = await _0x425937[_0x5c28aa(0x1dc)]({ 'to': CONTRACTS[_0x5c28aa(0x1fb)], 'data': _0x42fb67 }), _0xd9c82b = await _0x2dcdec[_0x5c28aa(0x200)](); return { 'tx': _0x2dcdec, 'receipt': _0xd9c82b }; }); return { 'success': _0x55be54[_0x16bb46(0x1fe)][_0x16bb46(0x1f9)] === 0x1, 'txHash': _0x55be54['tx'][_0x16bb46(0x1fa)], 'blockNumber': _0x55be54['receipt'][_0x16bb46(0x1f5)] }; } catch (_0x7f7eb6) { return { 'success': ![], 'error': _0x7f7eb6['message'] }; } } export async function mintDiscussion(_0x3e5a14, _0x40f2bf, _0x474b08, _0x520546, _0xa24e45) { const _0xe0be97 = _0x1ac401, { ethers: _0x49fcce } = await import(_0xe0be97(0x1ff)), _0x22bae9 = _0xe0be97(0x1de), _0x3d85cd = _0x40f2bf['startsWith']('0x') ? _0x40f2bf[_0xe0be97(0x1ec)](0x2) : _0x40f2bf, _0x41b04b = _0x49fcce[_0xe0be97(0x1f7)]('0x00', 0x20)[_0xe0be97(0x1ec)](0x2), _0x5d59ea = _0x49fcce[_0xe0be97(0x1f7)](_0xe0be97(0x20e), 0x20)[_0xe0be97(0x1ec)](0x2), _0x9d888e = _0x49fcce['zeroPadValue'](CONTRACTS[_0xe0be97(0x1fc)], 0x20)[_0xe0be97(0x1ec)](0x2), _0x52b31f = _0x49fcce[_0xe0be97(0x1f7)](_0x49fcce['toBeHex'](_0x474b08), 0x20)[_0xe0be97(0x1ec)](0x2), _0x5e85a9 = _0x49fcce['zeroPadValue'](_0xe0be97(0x1ed), 0x20)[_0xe0be97(0x1ec)](0x2), _0x501b2a = _0x49fcce[_0xe0be97(0x1f7)](_0xe0be97(0x1f4), 0x20)[_0xe0be97(0x1ec)](0x2), _0x3389f4 = _0x520546[_0xe0be97(0x211)]('0x') ? _0x520546[_0xe0be97(0x1ec)](0x2) : _0x520546, _0x3d9574 = _0xa24e45[_0xe0be97(0x211)]('0x') ? _0xa24e45[_0xe0be97(0x1ec)](0x2) : _0xa24e45, _0x40de07 = _0x22bae9 + _0x3d85cd + _0x41b04b + _0x5d59ea + _0x9d888e + _0x52b31f + _0x5e85a9 + _0x501b2a + _0x3389f4 + _0x3d9574; try { const _0x2dc7e0 = await retryRpcCall(async () => { const _0x20de6d = _0xe0be97, _0x3c5b8d = await _0x3e5a14['sendTransaction']({ 'to': CONTRACTS[_0x20de6d(0x1f2)], 'data': _0x40de07 }), _0x2790ec = await _0x3c5b8d[_0x20de6d(0x200)](); return { 'tx': _0x3c5b8d, 'receipt': _0x2790ec }; }); return { 'success': _0x2dc7e0[_0xe0be97(0x1fe)][_0xe0be97(0x1f9)] === 0x1, 'txHash': _0x2dc7e0['tx'][_0xe0be97(0x1fa)], 'blockNumber': _0x2dc7e0['receipt']['blockNumber'] }; } catch (_0x475591) { return { 'success': ![], 'error': _0x475591[_0xe0be97(0x1f1)] }; } } export function getDiscussionSignatures() { const _0x385f52 = _0x1ac401; return { 'signature0': '14f8e83e8f8e370345de654b3865725efbb4e93c2d7713701f6358eea20bfc05', 'signature1': _0x385f52(0x1eb) }; }