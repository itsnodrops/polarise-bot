const _0x43db9a = _0x5e68; (function (_0x4d5bc1, _0x5bfbf0) { const _0x5e17c2 = _0x5e68, _0xc7ba2 = _0x4d5bc1(); while (!![]) { try { const _0x3b58b2 = parseInt(_0x5e17c2(0x16d)) / 0x1 * (-parseInt(_0x5e17c2(0x171)) / 0x2) + parseInt(_0x5e17c2(0x167)) / 0x3 * (parseInt(_0x5e17c2(0x166)) / 0x4) + -parseInt(_0x5e17c2(0x13d)) / 0x5 + -parseInt(_0x5e17c2(0x15e)) / 0x6 + parseInt(_0x5e17c2(0x160)) / 0x7 + parseInt(_0x5e17c2(0x13b)) / 0x8 + parseInt(_0x5e17c2(0x16a)) / 0x9 * (parseInt(_0x5e17c2(0x14a)) / 0xa); if (_0x3b58b2 === _0x5bfbf0) break; else _0xc7ba2['push'](_0xc7ba2['shift']()); } catch (_0x514ec4) { _0xc7ba2['push'](_0xc7ba2['shift']()); } } }(_0x467d, 0xbf4c4)); export const NETWORK = { 'name': _0x43db9a(0x16f), 'chainId': 0x5cce, 'rpcUrl': _0x43db9a(0x141), 'explorerUrl': _0x43db9a(0x13a) }; export const CONTRACTS = { 'GRISE': _0x43db9a(0x169), 'TIP': _0x43db9a(0x146), 'DISCUSSION_NFT': _0x43db9a(0x138), 'ACTIVATION': _0x43db9a(0x170) }; export const ERC20_ABI = [_0x43db9a(0x15a), _0x43db9a(0x14b), _0x43db9a(0x13c), 'function\x20transfer(address\x20to,\x20uint256\x20amount)\x20returns\x20(bool)', _0x43db9a(0x150), _0x43db9a(0x16c), 'function\x20name()\x20view\x20returns\x20(string)']; export const TIP_ABI = [_0x43db9a(0x14c)]; export const DISCUSSION_NFT_ABI = ['function\x20mintDiscussion(bytes32\x20questionId,\x20uint256\x20option0,\x20uint256\x20option1,\x20address\x20collateralToken,\x20uint256\x20endTime,\x20bytes\x20signatures)']; export const TASK_CONFIG = { 'ACTIVATION_AMOUNT': _0x43db9a(0x13e), 'TIP_AMOUNT_MIN': '0.00001', 'TIP_AMOUNT_MAX': '0.00005', 'MAX_APPROVAL': _0x43db9a(0x16e) }; export function getRandomTipAmount() { const _0x29a6c6 = _0x43db9a, _0x1836b8 = parseFloat(TASK_CONFIG[_0x29a6c6(0x158)]), _0x2f0230 = parseFloat(TASK_CONFIG['TIP_AMOUNT_MAX']), _0x136d15 = _0x1836b8 + Math[_0x29a6c6(0x15d)]() * (_0x2f0230 - _0x1836b8); return _0x136d15[_0x29a6c6(0x159)](0x8); } import { retryOperation } from '../utils/helper.js'; export async function retryRpcCall(_0x4d18be, _0x25540b = 0x3, _0x44e85a = 0xdac) { const _0x5e3060 = _0x43db9a; return await retryOperation(_0x4d18be, _0x5e3060(0x152), null, _0x25540b, _0x44e85a); } export async function createProvider() { const _0x23b0dc = _0x43db9a, { ethers: _0x1c8004 } = await import(_0x23b0dc(0x154)), _0x4c44ed = new _0x1c8004['Network'](NETWORK[_0x23b0dc(0x168)], NETWORK[_0x23b0dc(0x162)]); return await retryRpcCall(async () => { const _0x177757 = _0x23b0dc, _0x2f791 = new _0x1c8004[(_0x177757(0x15b))](NETWORK[_0x177757(0x148)], undefined, { 'staticNetwork': _0x4c44ed }); return await _0x2f791[_0x177757(0x163)](), _0x2f791; }, 0x5, 0xdac); } export async function createWallet(_0x5a0288) { const _0xee1f92 = _0x43db9a, { ethers: _0x416206 } = await import(_0xee1f92(0x154)), _0x51e410 = await createProvider(); return new _0x416206[(_0xee1f92(0x147))](_0x5a0288, _0x51e410); } export async function getGriseContract(_0x1e59a0) { const _0xddbb2f = _0x43db9a, { ethers: _0x5a1b67 } = await import(_0xddbb2f(0x154)); return new _0x5a1b67[(_0xddbb2f(0x161))](CONTRACTS['GRISE'], ERC20_ABI, _0x1e59a0); } function _0x5e68(_0x13e1f2, _0x2b4fc6) { _0x13e1f2 = _0x13e1f2 - 0x137; const _0x467d91 = _0x467d(); let _0x5e685b = _0x467d91[_0x13e1f2]; return _0x5e685b; } export async function getTipContract(_0x5dd976) { const _0x1b8e3c = _0x43db9a, { ethers: _0x217623 } = await import(_0x1b8e3c(0x154)); return new _0x217623[(_0x1b8e3c(0x161))](CONTRACTS[_0x1b8e3c(0x13f)], TIP_ABI, _0x5dd976); } export async function getDiscussionNftContract(_0x75d2b3) { const _0x570a64 = _0x43db9a, { ethers: _0x13fab7 } = await import('ethers'); return new _0x13fab7[(_0x570a64(0x161))](CONTRACTS['DISCUSSION_NFT'], DISCUSSION_NFT_ABI, _0x75d2b3); } function _0x467d() { const _0x5e9e80 = ['3152037xfidpN', 'Contract', 'chainId', 'getNetwork', 'status', 'GRISE', '480KSZShT', '32991WzvRfv', 'name', '0x351EF49f811776a3eE26f3A1fBc202915B8f2945', '1175778kgOoaY', 'message', 'function\x20symbol()\x20view\x20returns\x20(string)', '739hvSnVi', '115792089237316195423570985008687907853269984665640564039457584007913129639935', 'Polarise', '0x9c4324156bA59a70FFbc67b98eE2EF45AEE4e19F', '2692kWJOPd', '14f8e83e8f8e370345de654b3865725efbb4e93c2d7713701f6358eea20bfc05', 'MAX_APPROVAL', '9051efe589e69d27e1a3cfb0db8a500e5cf54ba63db52cb0fb75dbdc6af876a5', '0x58477a0e15ae82E9839f209b13EFF25eC06c252B', 'slice', 'https://explorer.polarise.org', '7097832aywFnU', 'function\x20balanceOf(address\x20account)\x20view\x20returns\x20(uint256)', '6338925TyNrNQ', '0.001', 'TIP', 'balanceOf', 'https://chainrpc.polarise.org', 'address', 'sendTransaction', 'DISCUSSION_NFT', 'receipt', '0x639A8A05DAD556256046709317c76927b053a85D', 'Wallet', 'rpcUrl', 'wait', '50BtWuMZ', 'function\x20allowance(address\x20owner,\x20address\x20spender)\x20view\x20returns\x20(uint256)', 'function\x20tip(address\x20recipient,\x20uint256\x20amount)', '0x02', 'parseEther', 'hash', 'function\x20decimals()\x20view\x20returns\x20(uint8)', 'zeroPadValue', 'RPC', '0x00', 'ethers', 'toBeHex', 'formatEther', 'allowance', 'TIP_AMOUNT_MIN', 'toFixed', 'function\x20approve(address\x20spender,\x20uint256\x20amount)\x20returns\x20(bool)', 'JsonRpcProvider', 'blockNumber', 'random', '1586010lzoTOC', 'startsWith']; _0x467d = function () { return _0x5e9e80; }; return _0x467d(); } export async function getGriseBalance(_0x55e4db) { const _0xdd3852 = _0x43db9a, { ethers: _0xefd00d } = await import('ethers'), _0x33f203 = await getGriseContract(_0x55e4db), _0x15002a = await retryRpcCall(async () => { const _0x455e7e = _0x5e68; return await _0x33f203[_0x455e7e(0x140)](_0x55e4db[_0x455e7e(0x142)]); }); return _0xefd00d[_0xdd3852(0x156)](_0x15002a); } export async function approveGriseForTip(_0x181d0d, _0x4100ec) { const _0x3e13b4 = _0x43db9a, { ethers: _0x17a863 } = await import('ethers'), _0x58b524 = await getGriseContract(_0x181d0d); try { const _0x3704d1 = await retryRpcCall(async () => { const _0x406167 = _0x5e68; return await _0x58b524[_0x406167(0x157)](_0x181d0d[_0x406167(0x142)], CONTRACTS[_0x406167(0x13f)]); }), _0x4cd1a9 = _0x17a863[_0x3e13b4(0x14e)](_0x4100ec); if (_0x3704d1 >= _0x4cd1a9) return { 'success': !![], 'alreadyApproved': !![] }; const _0x518656 = BigInt(TASK_CONFIG[_0x3e13b4(0x173)]), _0x54f4d5 = await retryRpcCall(async () => { const _0x45bb09 = _0x3e13b4, _0x279270 = await _0x58b524['approve'](CONTRACTS[_0x45bb09(0x13f)], _0x518656), _0x1ba189 = await _0x279270['wait'](); return { 'tx': _0x279270, 'receipt': _0x1ba189 }; }); return { 'success': _0x54f4d5[_0x3e13b4(0x145)][_0x3e13b4(0x164)] === 0x1, 'txHash': _0x54f4d5['tx'][_0x3e13b4(0x14f)] }; } catch (_0x354eaf) { return { 'success': ![], 'error': _0x354eaf[_0x3e13b4(0x16b)] }; } } export async function sendTip(_0xdea0ed, _0xa65ead, _0x3a2327) { const _0x14fc97 = _0x43db9a, { ethers: _0x1032f0 } = await import(_0x14fc97(0x154)), _0x28419f = _0x1032f0[_0x14fc97(0x14e)](_0x3a2327), _0xe8e67f = '0xe69d849d', _0x451773 = _0x1032f0[_0x14fc97(0x151)](_0xa65ead, 0x20), _0x2a1222 = _0x1032f0[_0x14fc97(0x151)](_0x1032f0[_0x14fc97(0x155)](_0x28419f), 0x20), _0x2923b3 = _0xe8e67f + _0x451773['slice'](0x2) + _0x2a1222['slice'](0x2); try { const _0x48423e = await retryRpcCall(async () => { const _0x14909e = _0x14fc97, _0x1e187b = await _0xdea0ed[_0x14909e(0x143)]({ 'to': CONTRACTS[_0x14909e(0x13f)], 'data': _0x2923b3 }), _0x35e971 = await _0x1e187b['wait'](); return { 'tx': _0x1e187b, 'receipt': _0x35e971 }; }); return { 'success': _0x48423e[_0x14fc97(0x145)]['status'] === 0x1, 'txHash': _0x48423e['tx'][_0x14fc97(0x14f)], 'blockNumber': _0x48423e[_0x14fc97(0x145)][_0x14fc97(0x15c)] }; } catch (_0x36b1aa) { return { 'success': ![], 'error': _0x36b1aa[_0x14fc97(0x16b)] }; } } export async function mintDiscussion(_0x88e929, _0x35030c, _0xc60f8d, _0x33d562, _0x5888fe) { const _0x1f7115 = _0x43db9a, { ethers: _0x1c9c3f } = await import(_0x1f7115(0x154)), _0x3184df = '0xa9450c39', _0x4571c7 = _0x35030c[_0x1f7115(0x15f)]('0x') ? _0x35030c[_0x1f7115(0x139)](0x2) : _0x35030c, _0x2fcd12 = _0x1c9c3f[_0x1f7115(0x151)](_0x1f7115(0x153), 0x20)[_0x1f7115(0x139)](0x2), _0x33345e = _0x1c9c3f[_0x1f7115(0x151)](_0x1f7115(0x153), 0x20)[_0x1f7115(0x139)](0x2), _0x7351e3 = _0x1c9c3f[_0x1f7115(0x151)](CONTRACTS[_0x1f7115(0x165)], 0x20)[_0x1f7115(0x139)](0x2), _0x48fd7d = _0x1c9c3f[_0x1f7115(0x151)](_0x1c9c3f[_0x1f7115(0x155)](_0xc60f8d), 0x20)[_0x1f7115(0x139)](0x2), _0x515faf = _0x1c9c3f[_0x1f7115(0x151)]('0xc0', 0x20)[_0x1f7115(0x139)](0x2), _0x3aa896 = _0x1c9c3f['zeroPadValue'](_0x1f7115(0x14d), 0x20)[_0x1f7115(0x139)](0x2), _0x23d2c1 = _0x33d562[_0x1f7115(0x15f)]('0x') ? _0x33d562['slice'](0x2) : _0x33d562, _0x2741f1 = _0x5888fe[_0x1f7115(0x15f)]('0x') ? _0x5888fe['slice'](0x2) : _0x5888fe, _0x3c65ac = _0x3184df + _0x4571c7 + _0x2fcd12 + _0x33345e + _0x7351e3 + _0x48fd7d + _0x515faf + _0x3aa896 + _0x23d2c1 + _0x2741f1; try { const _0x5efa62 = await retryRpcCall(async () => { const _0x27251e = _0x1f7115, _0x506294 = await _0x88e929[_0x27251e(0x143)]({ 'to': CONTRACTS[_0x27251e(0x144)], 'data': _0x3c65ac }), _0x7c8854 = await _0x506294[_0x27251e(0x149)](); return { 'tx': _0x506294, 'receipt': _0x7c8854 }; }); return { 'success': _0x5efa62[_0x1f7115(0x145)][_0x1f7115(0x164)] === 0x1, 'txHash': _0x5efa62['tx'][_0x1f7115(0x14f)], 'blockNumber': _0x5efa62['receipt']['blockNumber'] }; } catch (_0x46ac60) { return { 'success': ![], 'error': _0x46ac60[_0x1f7115(0x16b)] }; } } export function getDiscussionSignatures() { const _0x57d177 = _0x43db9a; return { 'signature0': _0x57d177(0x172), 'signature1': _0x57d177(0x137) }; }